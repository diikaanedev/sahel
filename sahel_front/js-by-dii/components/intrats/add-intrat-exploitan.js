import { AddFormHtml, AddFormSelectHtml } from "../../configs/html-element.js";
import { Post } from "../../configs/requette.js";
import BaseTemplate from "../base-template/template.js";
import Navbar from "../navbar.js";
import Aside from "../aside-nav.js";
import GestionErr from "../../configs/gestion-err.js";

export default class AddIntratExploitant extends HTMLElement {

    constructor() { super() }

    static _create = () => {

        const tabs = [
            { titre: 'Matricule Exploitan' },
            { titre: 'Quantite Demande', type: 'number' },
            { titre: 'Quantite Recu', type: 'number' },
            { titre: 'Quantite Utilise', type: 'number' },
            { titre: 'Prix Kilo', type: 'number' },
        ]

        return AddFormSelectHtml('intrat', ' Liste Intrat ', tabs, this.addIntratExploitant);

    }

    static addIntratExploitant = e => {
        e.preventDefault();
        
        const body = {
            intratId: e.target.getElementsByTagName('select')[0].value,
            matricule: e.target.getElementsByTagName('input')[0].value,
            quantite_demande: e.target.getElementsByTagName('input')[1].value,
            quantite_recu: e.target.getElementsByTagName('input')[2].value,
            quantite_utilise: e.target.getElementsByTagName('input')[3].value,
            prix_kilo: e.target.getElementsByTagName('input')[4].value,
        }

        Post('intrat/add-intrat-exploitant', body).then((result) => {
            console.log(result);

        }).catch((err) => {
            console.log(err);

        });
        
    }


};
