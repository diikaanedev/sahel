import { AddFormHtml, AddFormSelectHtml } from "../../configs/html-element.js";
import { Post } from "../../configs/requette.js";
import BaseTemplate from "../base-template/template.js";
import Navbar from "../navbar.js";
import Aside from "../aside-nav.js";
import GestionErr from "../../configs/gestion-err.js";

export default class AddChargeExploitant extends HTMLElement {

    constructor() { super() }

    static _create = () => {

        const tabs = [
            { titre: 'Matricule Exploitant' },
            { titre: 'Nombre ou Quantite', type: 'number' },
            { titre: 'Prix Unitaire' },
        ]

        return AddFormSelectHtml('charge', ' Liste Charge Exploitant', tabs, this.addChargeExploitant);

    }

    static addChargeExploitant = e => {
        e.preventDefault();

        const body = {
            chargeId: e.target.getElementsByTagName('select')[0].value,
            matricule :  e.target.getElementsByTagName('input')[0].value,
            nbre_quantite :  e.target.getElementsByTagName('input')[1].value,
            prix_unitaire :  e.target.getElementsByTagName('input')[2].value,
        }

        Post('charge/add-charge-exploitant' , body).then((result) => {
            console.log(result);
            
        }).catch((err) => {
            console.log(err);
            
        });
        
    }


};
